from base.testing import KlaytnBaseTesting


class TestTraceBlock(KlaytnBaseTesting):

    def setUp(self) -> None:
        super().setUp()
        self.number = "0xf90275f90271a0f33999bf2da1c6b3c0a795d62dc31d78053573a8735802aee9bbbdc2c40f331894043c471bee060e00a56ccd02c0ca286808a5a436a0d62748ae1ba12975f61470f06912c05d92b4366611338e57ee165802d392e628a056e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421a056e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421b90100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000182010080846438cacb2eb8c0d883010a02846b6c617988676f312e31352e37856c696e757800000000000000f89ed59465b47be3457ff26f2911cf89fd079cef0475a2e6b8416ce05c900fb44606f9dc248d0f75687070c6a17ec0bf39a98e6eb45ce58e08662eeba90e335f8bc7442c618579b1188ff49a6e269a0ae378ed3418cf5ed5b13800f843b841db4926eef536585fbf4125fd97eb9e7b544eeed36959a46771d34a0f98ba99f40f8aca863e51249f9bdc8621a5b9d8babe3a720ced55d76e60223e91f64d7f970080808505d21dba00c0"

    def test_post(self):
        self.response = self.w3.debug.trace_block(
            self.number
        )
        self.assertTrue(len(self.response) >= 0)

    def test_post_wrong_with_lack_paramaters(self):
        with self.assertRaises(ValueError):
            self.response = self.w3.debug.trace_block()

